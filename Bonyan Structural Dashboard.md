

# Bonyan Structural Dashboard – شرح الكود

## 1. مقدمة

هذا المشروع عبارة عن أداة بايثون لتحويل وعرض بيانات المشاريع الإنشائية من جداول تحليل (مثل VEDA أو ETABS) إلى نموذج برمجي يمكن عرضه وتحليله.

---

## 2. مكونات الكود

### 2.1 النماذج (Data Structures)

* **BaseElement**: العنصر الأساسي الذي ترث منه الأعمدة والكمرات والجدران.
* **Column, Beam, Wall**: تمثيل الأعمدة والكمرات والجدران، مع خصائص مثل النقاط، المادة، والقسم.
* **Story**: تمثل طابقاً، مع ارتفاع ومستوى.
* **Material**: المواد (خرسانة، حديد تسليح) مع خصائص `fc`, `fy`.
* **Section**: القطاعات الإنشائية مع أبعادها وموادها.
* **Point**: نقاط ثلاثية الأبعاد (X, Y, Z).
* **LoadCombination**: تراكيب التحميل.
* **ProjectModel**: يحتوي كل العناصر أعلاه، يشمل الطوابق، المواد، القطاعات، الأعمدة، الكمرات، الجدران، والنقاط.

---

### 2.2 حفظ واسترجاع المشروع

* **save_project(file_path, project_model)**: حفظ المشروع بصيغة `pickle`.
* **load_project(file_path)**: استرجاع المشروع المحفوظ.

---

### 2.3 عرض واجهة المستخدم (GUI)

باستخدام `tkinter`:

* نافذة رئيسية مع:

  * زر فتح مشروع (`Open Project`)
  * زر عرض ثلاثي الأبعاد (`3D View`)
  * شريط الحالة (Status Bar)
  * Tabs لكل نوع عنصر (أعمدة، كمرات، جدران)
* كل Tab يعرض جدول بيانات للعناصر مع:

  * الأبعاد
  * المواد
  * القوى لكل Load Combination
  * إحداثيات البداية والنهاية لكل عنصر

---

### 2.4 العرض الثلاثي الأبعاد (3D)

باستخدام `matplotlib`:

* **plot_linear_elements**: رسم الأعمدة والكمرات كخطوط بين نقطتين.
* **plot_wall_elements**: رسم الجدران كمضلعات (Polygon) مع شفافية.
* دعم تدوير وعرض الأبعاد X, Y, Z.
* إضافة Legend لتوضيح نوع العنصر.

---

### 2.5 تحويل VEDA إلى BPROJ

* قراءة جميع الجداول من قاعدة SQLite.
* بناء الكائنات:

  * Stories
  * Materials
  * Sections
  * Points
  * Load Combinations
* ربط العناصر بالنقاط والقطاعات والمواد والقوى.
* حفظ المشروع النهائي بصيغة `.bproj`.

---

## 3. الفائدة العملية

* **عرض البيانات الإنشائية** بدون الحاجة إلى برنامج التحليل.
* **سهولة التحقق** من الأبعاد، المواد، القوى لكل عنصر.
* **عرض بصري 3D** للمشروع لفهم الشكل الهندسي.
* **تحويل بيانات التحليل إلى مشروع قابل للبرمجة والمعالجة**.

---

## 4. ملاحظات

* يحتاج `matplotlib` للعرض الثلاثي الأبعاد.
* يعتمد على جداول محددة موجودة في قاعدة البيانات (مثل VEDA أو ETABS).
* لا يقوم بالتحليل الإنشائي، فقط بالعرض والتنظيم.

---

## 5. رسم تخطيطي مبسط للعناصر الإنشائية

```
        Z (ارتفاع)
        ↑
        │
        │   ┌─────┐ Beam
        │   │     │
        │   │     │
        │   │     │
        │   └─────┘
        │   ┌─┐ ┌─┐ Column
        │   │ │ │ │
        │   │ │ │ │
        │   │ │ │ │
        │   └─┘ └─┘
        │
        └─────────────────→ Y
       /
      /
     X
```

**توضيح:**

* **Columns (أعمدة)**: رأسية، تربط الطوابق، تحمل الأحمال الرأسية.
* **Beams (كمرات)**: أفقية، تربط الأعمدة، تنقل الأحمال إلى الأعمدة.
* **Walls (جدران/بيير)**: تمثل مقاومة جانبية، يمكن أن تظهر كمضلعات بين النقاط.
* **Points**: نقاط مفصلية تربط الأعمدة والكمرات والجدران، تستخدم لحساب الإحداثيات ثلاثية الأبعاد.

> كل عنصر مرتبط بالقسم والمواد والقوى لكل Load Combination، ويمكن عرضه في جدول GUI أو في 3D plot.

